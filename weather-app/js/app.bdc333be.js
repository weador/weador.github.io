(function(e){function t(t){for(var a,i,s=t[0],c=t[1],l=t[2],h=0,d=[];h<s.length;h++)i=s[h],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(d.length)d.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],a=!0,s=1;s<r.length;s++){var c=r[s];0!==n[c]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},n={app:0},o=[];function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0710":function(e,t,r){"use strict";r("8646")},"287d":function(e,t,r){},"49f8":function(e,t,r){var a={"./en.json":"edd4","./ru.json":"7704"};function n(e){var t=o(e);return r(t)}function o(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=o,e.exports=n,n.id="49f8"},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[r("span",{staticClass:"app-title text-h6 text-lg-h4"},[e._v(e._s(e.$t("appTitle")))]),r("v-spacer"),r("div",{staticClass:"locale-changer"},[r("v-select",{attrs:{items:e.$i18n.availableLocales},model:{value:e.$i18n.locale,callback:function(t){e.$set(e.$i18n,"locale",t)},expression:"$i18n.locale"}})],1)],1),r("v-main",[r("MainContainer")],1)],1)},o=[],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("SearchForm",{on:{"new-weather-data":function(t){return e.updateData(t)}},model:{value:e.cityWeather,callback:function(t){e.cityWeather=t},expression:"cityWeather"}}),r("v-row",[r("v-col",{staticClass:"col-12 col-md-8"},[r("ResultWeather",{attrs:{weatherData:e.weatherData}})],1),r("v-col",{staticClass:"col-12 col-md-4"},[r("HistoryBlock",{attrs:{historyItems:e.historyData},on:{"city-clicked":function(t){e.cityWeather=t}}})],1)],1)],1)},s=[],c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"search-form"},[r("v-form",{on:{submit:function(t){return t.preventDefault(),e.searchWeather.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-container",[r("v-row",[r("v-col",[r("v-text-field",{attrs:{label:e.$t("searchForm.label"),value:e.value,"error-messages":e.translatedError,required:""},on:{input:function(t){return e.$emit("input",t)}}})],1),r("v-col",[r("v-btn",{attrs:{color:"primary",type:"submit",disabled:!e.valid}},[e._v(e._s(e.$t("searchForm.buttonName")))])],1)],1)],1)],1)],1)},l=[],u=r("1da1"),h=(r("96cf"),r("99af"),r("bc3a")),d=r.n(h),p="050ea8eeff01ce7c98b35732e9ac8e10";d.a.defaults.baseURL="https://api.openweathermap.org/data/2.5/weather";var f=function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/?q=".concat(t,"&units=metric&appid=").concat(p,"&lang=").concat(r));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e["catch"](0),Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),v=(r("caad"),r("2532"),function(e){var t=m()||[];t.includes(e)||(t.push(e),localStorage.setItem("search-history",JSON.stringify(t)))}),m=function(){return JSON.parse(localStorage.getItem("search-history"))},w={name:"SearchForm",props:{value:String},data:function(){return{valid:!1,error:""}},computed:{translatedError:function(){return this.error?this.$t("searchForm.".concat(this.error)):this.error},currentLocale:function(){return this.$i18n.locale}},methods:{searchWeather:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f(e.value,e.currentLocale);case 3:r=t.sent,v(e.value),e.$emit("new-weather-data",r),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.error="wrongNameError";case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}},watch:{value:function(e){this.error=""===e?"emptyError":""},currentLocale:function(){this.searchWeather()}}},y=w,b=r("2877"),_=r("6544"),g=r.n(_),x=r("8336"),C=r("62ad"),k=r("a523"),D=r("4bd4"),O=r("0fd9"),$=r("8654"),V=Object(b["a"])(y,c,l,!1,null,null,null),W=V.exports;g()(V,{VBtn:x["a"],VCol:C["a"],VContainer:k["a"],VForm:D["a"],VRow:O["a"],VTextField:$["a"]});var j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"result-weather"},[e.weatherData?[a("v-card-title",[e._v(e._s(e.$t("resultWeather.title"))+" "+e._s(e.weatherData.name))]),a("v-card-text",[a("v-row",[a("v-col",{staticClass:"col-7 col-sm-5 col-lg-3"},[a("div",{staticClass:"text-h2"},[e._v(e._s(Math.round(e.weatherData.main.temp))+"°C")]),a("div",{staticClass:"state"},[e._v(e._s(e.weatherData.weather[0].description))])]),a("v-col",{staticClass:"col-2 col-sm-4 col-lg-2"},[a("img",{staticClass:"result-weather_icon",attrs:{src:"https://openweathermap.org/themes/openweathermap/assets/vendor/owm/img/widgets/"+e.weatherData.weather[0].icon+".png",alt:"weather-icon"}})]),a("v-col",{staticClass:"col-12 col-sm-6 col-lg-3 d-flex flex-column"},[a("div",[e._v(e._s(e.$t("resultWeather.feelsLike"))+": "+e._s(Math.round(e.weatherData.main.feels_like)))]),a("div",[e._v(e._s(e.$t("resultWeather.min"))+": "+e._s(Math.round(e.weatherData.main.temp_min)))]),a("div",[e._v(e._s(e.$t("resultWeather.max"))+": "+e._s(Math.round(e.weatherData.main.temp_max)))])]),a("v-col",{staticClass:"col-12 col-sm-6 col-lg-3 d-flex flex-column"},[a("div",[e._v(e._s(e.$t("resultWeather.pressure"))+": "+e._s(Math.round(e.weatherData.main.pressure))+" mb")]),a("div",[e._v(e._s(e.$t("resultWeather.humidity"))+": "+e._s(Math.round(e.weatherData.main.humidity))+" %")]),a("div",[e._v(" "+e._s(Math.round(e.weatherData.wind.speed))+" m/c "),a("img",{staticClass:"result-weather_wind-icon",style:{transform:"rotate("+e.weatherData.wind.deg+"deg)"},attrs:{src:r("8539"),alt:"wind-icon"}})])])],1)],1)]:a("v-card-title",[e._v(e._s(e.$t("resultWeather.noResult")))])],2)},M=[],S={name:"ResultWeather",props:{weatherData:{type:Object,default:null}},data:function(){return{cityName:"Moscow"}}},E=S,R=(r("c539"),r("b0af")),N=r("99d9"),F=Object(b["a"])(E,j,M,!1,null,"33c25e88",null),L=F.exports;g()(F,{VCard:R["a"],VCardText:N["a"],VCardTitle:N["b"],VCol:C["a"],VRow:O["a"]});var T=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"history-block"},[r("v-card",[r("v-card-title",[e._v(e._s(e.$t("historyBlock.title")))]),r("v-list",e._l(e.historyItems,(function(t,a){return r("div",{key:t},[r("v-list-item",{staticClass:"history-block_item",on:{click:function(r){return e.$emit("city-clicked",t)}}},[e._v(e._s(t))]),a<e.historyItems.length-1?r("v-divider"):e._e()],1)})),0)],1)],1)},B=[],I={name:"HistoryBlock",props:{historyItems:{type:Array,default:function(){return[]}}}},P=I,J=(r("b38d"),r("ce7e")),A=r("8860"),H=r("da13"),U=Object(b["a"])(P,T,B,!1,null,"7ac6315c",null),q=U.exports;g()(U,{VCard:R["a"],VCardTitle:N["b"],VDivider:J["a"],VList:A["a"],VListItem:H["a"]});var z={name:"MainContainer",components:{SearchForm:W,ResultWeather:L,HistoryBlock:q},data:function(){return{cityWeather:"",weatherData:null,historyData:[]}},methods:{updateData:function(e){this.weatherData=e,this.historyData=m()}},mounted:function(){this.historyData=m()}},Z=z,G=Object(b["a"])(Z,i,s,!1,null,null,null),K=G.exports;g()(G,{VCol:C["a"],VContainer:k["a"],VRow:O["a"]});var Q={name:"App",components:{MainContainer:K},data:function(){return{}}},X=Q,Y=(r("0710"),r("7496")),ee=r("40dc"),te=r("f6c4"),re=r("b974"),ae=r("2fa4"),ne=Object(b["a"])(X,n,o,!1,null,"1d3999f4",null),oe=ne.exports;g()(ne,{VApp:Y["a"],VAppBar:ee["a"],VMain:te["a"],VSelect:re["a"],VSpacer:ae["a"]});var ie=r("f309");a["a"].use(ie["a"]);var se=new ie["a"]({}),ce=(r("159b"),r("d3b7"),r("ddb0"),r("ac1f"),r("466d"),r("a925"));function le(){var e=r("49f8"),t={};return e.keys().forEach((function(r){var a=r.match(/([A-Za-z0-9-_]+)\./i);if(a&&a.length>1){var n=a[1];t[n]=e(r)}})),t}a["a"].use(ce["a"]);var ue=new ce["a"]({locale:"en",fallbackLocale:"en",messages:le()});a["a"].config.productionTip=!1,new a["a"]({vuetify:se,i18n:ue,render:function(e){return e(oe)}}).$mount("#app")},7704:function(e){e.exports=JSON.parse('{"appTitle":"Виджет погоды","searchForm":{"label":"Название города","buttonName":"Поиск","emptyError":"Введите название города!","wrongNameError":"Нет такого города!"},"historyBlock":{"title":"История"},"resultWeather":{"noResult":"Воспользуйтесь поиском по названию города.","title":"Погода в","feelsLike":"Ощущается как","min":"Минимальная","max":"Максимальная","pressure":"Давление","humidity":"Влажность"}}')},8539:function(e,t,r){e.exports=r.p+"img/wind-icon.fa33b22b.svg"},8646:function(e,t,r){},b38d:function(e,t,r){"use strict";r("287d")},c539:function(e,t,r){"use strict";r("fa0a")},edd4:function(e){e.exports=JSON.parse('{"appTitle":"Weather app","searchForm":{"label":"City title","buttonName":"Search","emptyError":"Input city title!","wrongNameError":"There is no such sity!"},"historyBlock":{"title":"History"},"resultWeather":{"noResult":"Search wether in some city!","title":"Weather in","feelsLike":"Feels like","min":"Min","max":"Max","pressure":"Pressure","humidity":"Humidity"}}')},fa0a:function(e,t,r){}});
//# sourceMappingURL=app.bdc333be.js.map